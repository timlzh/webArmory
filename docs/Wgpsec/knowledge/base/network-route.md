---
title: 【网络基础】路由协议
---

# 路由协议基础

### 简介

> 路由（Routing）是数据通信网络中一个基本的概念。
>
> 路由就是通过互联的网络把信息从源地址传输到目的地址的活动。
>
> 路由发生在OSI网络参考模型中的第三层（即网络层）。
>
> 我们将具有路由转发功能的设备称为广义上的路由器。

当路由器收到一个IP数据包，路由器会根据目的IP地址在设备上的路由表（Routing Table）中进行查找，

找到“最匹配”的路由条目后，将数据包根据路由条目所指示的出接口或下一跳IP转发出去。

路由表中装载着路由器通过各种途径获知的路由条目（Routes）。

路由器可通过静态、动态等方式获取路由条目并维护自己的路由表。



### **常见路由协议分类**

> - OSPF（Open Shortest Path First）
> - RIP（Routing Information Protocol）
> - IS-IS（Intermediate System to Intermediate System）
> - BGP（Border Gateway Protocol）
>
> 其中，**最多**被使用到的路由协议为**OSPF和BGP**。

- 按照路由协议使用的**算法**分：
  - 距离矢量路由协议，例如：RIP和BGP。其中，BGP也被称为路径矢量协议（Path-Vector Protocol） 
  - 链路状态路由协议，例如：OSPF 和IS-IS。
- 按照路由协议**作用的区域**划分：
  - 内部网关协议**IGP**（Interior Gateway Protocol），在单一的自治系统中交换路由信息，例如：OSPF、RIP、IS-IS
  - 外部网关协议**EGP**（Exterior Gateway Protocol），在不同的自治系统中交换路由信息，例如：BGP

### **路由器基本原理**

在因特网中，网络连接设备用来控制网络流量和保证网络数据传输质量。

常见的网络连接设备有集线器（Hub）、网桥（Bridge）、交换机（Switch）和路由器（Router） 

**路由就是报文从源端到目的端的路径。**

当报文从路由器到目的网段有多条路由可达时，路由器可以根据路由表中最佳路由进行转发。

最佳路由的选取与发现此路由的路由协议的优先级、路由的度量有关。

当多条路由的协议优先级与路由度量都相同时，可以实现负载分担，缓解网络压力；

当多条路由的协议优先级与路由度量不同时，可以构成路由备份，提高网络的可靠性。 

### **路由迭代**

> 路由必须有直连的下一跳才能够指导转发，但是路由生成时下一跳可能不是直连的
>
> 因此需要计算出一个直连的下一跳和对应的出接口，这个过程就叫做路由迭代。 

BGP路由、静态路由和UNR路由的下一跳都有可能不是直连的，都需要进行路由迭代。 

# 静态路由与动态路由

> - 通过**链路层协议**发现的路由称为**直连路由**。
> - 通过网络管理员**手动配置**的路由称为**静态路由**。
> - 通过**动态路由协议**发现的路由称为**动态路由**。

**静态路由**配置方便，对系统要求低，适用于拓扑结构简单并且稳定的小型网络。缺点是不能自动适应网络拓扑的变化，需要人工干预。

**动态路由**协议有自己的路由算法，能够自动适应网络拓扑的变化，适用于具有一定数量三层设备的网络。

缺点是配置对用户要求比较高，对系统的要求高于静态路由，并将占用一定的网络资源和系统资源。 

# 路由表和FIB表

> 路由器转发数据包的关键是路由表和FIB表，每个路由器都至少保存着一张路由表和一张FIB（**Forwarding Information Base**）表。
>
> 路由器通过路由表选择路由，通过FIB表指导报文进行转发。

### **路由表**

每台路由器中都保存着一张本地核心路由表（即设备的IP路由表），同时各个路由协议也维护着自己的路由表。 

**本地核心路由表**

路由器使用本地核心路由表用来保存决策优选路由，并负责把优选路由下发到FIB表，通过FIB表指导报文进行转发。

这张路由表依据各种路由协议的优先级和度量值来选取路由。

**协议路由表**

协议路由表中存放着该协议发现的路由信息。路由协议可以引入并发布其他协议生成的路由。

例如，在路由器上运行OSPF协议，需要使用OSPF协议通告直连路由、静态路由或者IS-IS路由时，要将这些路由引入到OSPF协议的路由表中。

**查看路由器的路由表概要信息**

在路由器中，执行命令

```bash
display ip routing-table

#示例结果
Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface      
                                                                                
     0.0.0.0/0    Static  60   0          RD   10.137.216.1    Vlanif20
     10.10.10.1/24 Direct  0   	0          D   	10.10.10.10    	Vlanif20
```

**Destination：**表示此路由的目的地址。用来标识IP包的目的地址或目的网络。

**Mask：**表示此目的地址的子网掩码长度。与目的地址一起来标识目的主机或路由器所在的网段的地址。

> 将目的地址和子网掩码“逻辑与”后可得到目的主机或路由器所在网段的地址。
>
> 例如：目的地址为10.1.1.1，掩码为255.255.255.0的主机或路由器所在网段的地址为10.1.1.0。
>
> 掩码由若干个连续“1”构成，既可以用点分十进制表示，也可以用掩码中连续“1”的个数来表示。
>
> 例如掩码255.255.255.0长度为24，即可以表示为24。  

**Proto：**表示学习此路由的路由协议。

**Pre：**表示此路由的路由协议优先级。优先级高（数值小）者将成为当前的最优路由。

**Cost：**路由开销。当到达同一目的地的多条路由具有相同的路由优先级时，路由开销最小的将成为当前的最优路由。

>  **Preference**用于**不同路由协议**间路由优先级的比较，**Cost**用于**同一种路由协议**内部**不同路由**的优先级的比较。 

**NextHop：**表示此路由的下一跳地址。指明数据转发的下一个设备。

**Interface：**表示此路由的出接口。指明数据将从本地路由器哪个接口转发出去。



### **FIB表匹配**

在路由表选择出路由后，路由表会将激活路由下发到FIB表中。当报文到达路由器时，会通过查找FIB表进行转发。

FIB表中每条转发项都指明到达某网段或某主机的报文应通过路由器的哪个物理接口或逻辑接口发送，然后就可到达该路径的下一个路由器或主机

FIB表的匹配遵循最长匹配原则。

# 路由协议的优先级

> **总体上：直连 > OSPF > IS-IS > 静态路由 > RIP >BGP**

路由器分别定义了外部优先级和内部优先级。

其中，0表示直接连接的路由，255表示任何来自不可信源端的路由；数值越小表明优先级越高。

外部优先级是指用户可以手工为各路由协议配置的优先级 

**表4-1** **路由协议缺省时的外部优先级**

| 路由协议的类型 | 路由协议的外部优先级 |
| -------------- | -------------------- |
| Direct         | 0                    |
| OSPF           | 10                   |
| IS-IS          | 15                   |
| Static         | 60                   |
| RIP            | 100                  |
| OSPF ASE       | 150                  |
| OSPF NSSA      | 150                  |
| IBGP           | 255                  |
| EBGP           | 255                  |

路由协议的内部优先级则不能被用户手工修改 

**表4-2** **路由协议内部优先级**

| 路由协议的类型 | 路由协议的内部优先级 |
| -------------- | -------------------- |
| Direct         | 0                    |
| OSPF           | 10                   |
| IS-IS Level-1  | 15                   |
| IS-IS Level-2  | 18                   |
| Static         | 60                   |
| RIP            | 100                  |
| OSPF ASE       | 150                  |
| OSPF NSSA      | 150                  |
| IBGP           | 200                  |
| EBGP           | 20                   |

# 路由的度量

路由的度量标示出了这条路由到达指定的目的地址的代价，通常以下因素会影响到路由的度量。 

### **路径长度**

路径长度是最常见的影响路由度量的因素。

链路状态路由协议可以为每一条链路设置一个链路开销来标示此链路的路径长度。

在这种情况下，路径长度是指经过的所有链路的链路开销的总和。

距离矢量路由协议使用跳数来标示路径长度。

跳数是指数据从源端到目的端所经过的设备数量。

例如，路由器到与它直接相连网络的跳数为0，通过一台路由器可达的网络的跳数为1，其余以此类推。

### **网络带宽**

网络带宽是一个链路实际的传输能力。

例如，一个10千兆的链路要比1千兆的链路更优越。

虽然带宽是指一个链路能达到的最大传输速率，但这不能说明在高带宽链路上路由要比低带宽链路上更优越。

比如说，一个高带宽的链路正处于拥塞的状态下，那报文在这条链路上转发时将会花费更多的时间。

### **负载**

负载是一个网络资源的使用程度。

计算负载方法包括CPU的利用率和它每秒处理数据包的数量。

持续监测这些参数可以及时了解网络的使用情况。

### **通信开销**

通信开销衡量了一条链路的运营成本。

尤其是只注重运营成本而不在乎网络性能的时候，通信开销则就成了一个重要的指标。

# 负载分担与路由备份

> 当多条路由的路由优先级和路由度量都相同时，这几条路由就称为等价路由，多条等价路由可以实现负载分担。
>
> 当这几条路由为非等价路由时，就可以实现路由备份。 

### **负载分担**

当到达同一目的地存在同一路由协议发现的多条路由时，且这几条路由的开销值也相同，那么就满足负载分担的条件。

当实现负载分担时，路由器根据五元组（源地址、目的地址、源端口、目的端口、协议）进行转发

当五元组相同时，路由器总是选择与上一次相同的下一跳地址发送报文。

当五元组不同时，路由器会选取相对空闲的路径进行转发。

### **路由备份**

路由备份功能，可以提高网络的可靠性。

用户可以根据实际情况，配置到同一目的地的多条路由，其中一条路由的优先级最高，作为主路由，其余的路由优先级较低，作为备份路由。

正常情况下，路由器采用主路由转发数据。

当主链路出现故障时，主路由变为非激活状态，路由器选择备份路由中优先级最高的路由转发数据。

这样，也就实现了主路由到备份路由的切换。

当主链路恢复正常时，由于主路由的优先级最高，路由器重新选择主路由来发送数据。

这样，就实现了从备份路由回切到主路由。

# 其它术语含义

### **IP FRR** 

快速重路由（Fast Reroute），是指当物理层或链路层检测到故障时将故障消息上报至上层路由系统，并立即启用一条备份链路转发报文。

IP FRR是一种快速实现路由备份的方式。  

### **路由的收敛**

路由收敛是指网络**拓扑变化**引起的通过**重新计算路由**而发现**替代路由**的行为。随着网络的融合，区分服务的需求越来越强烈。

某些路由可能指导关键业务的转发，如VoIP，视频会议、组播等，这些关键的业务路由需要尽快收敛，而非关键路由可以相对慢一点收敛。

因此，系统需要对不同路由按不同的收敛优先级处理，来提高网络可靠性。

按优先级收敛是指系统为路由设置不同的收敛优先级，分为critical、high、medium、low四种。

系统根据这些路由的收敛优先级采用相对的优先收敛原则，即按照一定的调度比例进行路由收敛安装，指导业务的优先转发。

路由协议优先计算并下发高收敛优先级的路由给系统。 

### **缺省路由**

缺省路由是没有在路由表中找到匹配的路由表项时才使用的路由。

如果报文的目的地址不能与路由表的任何目的地址相匹配，那么该报文将选取缺省路由进行转发。

如果没有缺省路由且报文的目的地址不在路由表中，那么该报文将被丢弃

并向源端返回一个ICMP（Internet Control Message Protocol）报文，报告该目的地址或网络不可达。

在路由表中，缺省路由以到网络0.0.0.0（掩码也为0.0.0.0）的路由形式出现。

可通过命令`display ip routing-table`查看当前是否设置了缺省路由。

通常情况下，管理员可以通过手工方式配置缺省静态路由；但有些时候，也可以使动态路由协议生成缺省路由，如OSPF和IS-IS。

### **不同路由协议的互相引入**

由于采用的算法不同，不同的路由协议可以发现不同的路由。

当网络规模比较大，使用多种路由协议时，不同的路由协议间通常需要发布其他路由协议发现的路由。

各路由协议都可以引入其它路由协议的路由、直连路由和静态路由，每种路由协议都有相应的路由引入机制。

### **自治系统**

在互联网中，自治系统AS（Autonomous System）是指在一个（有时是多个）实体管辖下的所有IP网络和路由器的网络

它们对互联网执行共同的路由策略。每一个AS可以支持多个内部网关路由协议。

一个AS内的所有网络都被分配同一个AS号，属于一个行政单位管辖。

AS号分为2字节AS号和4字节AS号。其中2字节AS号的范围为1至65535。

随着时间推进，可分配的2字节AS号已经濒临枯竭，需要将AS号的范围从之前的2字节扩展为4字节，其中4字节AS号的取值范围为1至4294967295。

4字节AS号还可以用X.Y的形式表示，其中X的取值范围为1至65535，Y的取值范围为0至65535。

**表7-1 AS号的分类及其取值范围**

| AS号的类别 | 2字节AS号    | 4字节AS号                  |
| ---------- | ------------ | -------------------------- |
| 公有AS号   | 1～64511     | 1～64511,65536～4294967295 |
| 私有AS号   | 64512～65535 | 64512～65535               |

### **可变长子网掩码**

可变长子网掩码VLSM（Variable-Length Subnet Masks）规定了如何在一个进行了子网划分的网络中的不同部分使用不同的子网掩码。

适用于网络内部需要不同大小子网的场景。实现VLSM通常被称为“子网划分子网”。

A类的第一段是网络号（前八位），B类地址的前两段是网络号（前十六位），C类的前三段是网络号（前二十四位）。

而VLSM的作用就是在类的IP地址的基础上，从它们的主机号部分借出相应的位数来做网络号，也就是增加网络号的位数。

### **全0和全1子网**

通过将IP地址的主机部分进一步划分为若干个子网，可以解决IP地址空间利用率低和两级IP地址不够灵活的问题。

其中，全0的主机号码表示该IP地址就是网络的地址，用于网络路由；

全1的主机号码表示广播地址，即对该网络上所有的主机进行广播。 

### **路由策略**

路由策略主要实现了路由过滤和路由属性设置等功能，它通过改变路由属性（包括可达性）来改变网络流量所经过的路径。 

**目的**

路由协议在发布、接收和引入路由信息时，根据实际组网需求实施一些策略，以便对路由信息进行过滤和改变路由信息的属性：

> **控制路由的接收和发布**
>
> 只发布和接收必要、合法的路由信息，以控制路由表的容量，提高网络的安全性。
>
> **控制路由的引入**
>
> 在一种路由协议在引入其它路由协议发现的路由信息丰富自己的路由信息时，只引入一部分满足条件的路由信息。
>
> **设置特定路由的属性**
>
> 修改通过路由策略过滤的路由的属性，满足自身需要。

### **策略路由**

策略路由PBR（Policy-Based Routing）是一种依据用户制定的策略进行路由选择的机制。

**目的**

> 传统的路由转发原理是首先根据报文的目的地址查找路由表，然后进行报文转发。
>
> 但是目前越来越多的用户希望能够在传统路由转发的基础上根据自己定义的策略进行报文转发和选路。
>
> 策略路由使网络管理者不仅能够根据报文的目的地址，
>
> 而且能够根据报文的源地址、报文大小和链路质量等属性来制定策略路由，以改变数据包转发路径，满足用户需求。
>
> 策略路由只对转发的报文起作用，对本地下发的报文（比如本地的Ping报文）不起作用。策略路由仅对IP类型的报文生效。 

# 重要学习参考资料

### [路由协议 -> OSPF、RIP、BGP的详细原理和配置](https://support.huawei.com/enterprise/zh/doc/EDOC1000141374/766cc4cd)

### [wireshark协议分析教程 (51CTO) ](https://edu.51cto.com/center/course/lesson/index?id=62643)

### [华为的在线课堂->更多路由交换技术学习](https://support.huawei.com/onlinetoolweb/ptmngsys/Web/OnlineCourse/zh/index.html)

# 附录

除了下边的题目还可以去[牛客网](https://www.nowcoder.com/intelligentTest)的**专项练习->网络基础**、**试题广场**寻找

### 路由交换技术选择题

1、**交换机和路由器相比,主要的区别有 ( AB )**

```
A. 交换机工作在 OSI 参考模型的第二层
B. 路由器工作在 OSI 参考模型的第三层
C. 交换机的一个端口划分一个广播域的边界
D. 路由器的一个端口划分一个冲突域的边界
```

2、**以下不会在路由表里出现的是 : ( D )**

```
A. 下一跳地址
B. 网络地址
C. 度量值
D. MAC 地址
```



3、**路由器是一种用于网络互连的计算机设备, 但作为路由器,并不具备的是 ( B )**

```
A. 支持多种路由协议
B. 多层交换功能
C. 支持多种可路由协议
D. 具有存储、转发、寻址功能
```

4、**路由器在转发数据包到非直连网段的过程中, 依靠数据 包中的哪一个选项来寻找下一跳地址 ( B )**

```
A. 帧头
B. IP 报文头部
C. SSAP 字段
D. DSAP 字段
```



5、**IP 地址 190.233.27.13是(B )类地址**

```
A. A
B. B
C. C
D. D
```

6、**IP 地址 224.0.0.5代表的是什么地址 ? ( C )**

```
A. 主机地址
B. 网络地址
C. 组播地址
D. 广播地址
```

7、**在 TCP/IP协议栈中, 下面哪一组选项能够唯一地确定一 个 TCP 连接:( D )**

```
A. 源 IP 地址和源端口号
B. 源 IP 地址和目的端口号
C. 目的地址和源端口号
D. 源地址、目的地址、源端口号和目的端口号
```

8、**如果要满足全线速二层(全双工)转发,则某种带有 24个固定 10/100M端口的交换机的背板带宽最小应为多 少? ( D )**

```
A. 24Gbps
B. 12Gbps
C. 2.4Gbps
D. 4.8Gbps
```

9、**下面的描述正确的是:( BCD )**

```
A. 集线器工作在 OSI 参考模型的第一、二两层
B. 集线器能够起到放大信号,增大网络传输距离的作用
C. 集线器上连接的所有设备同属于一个冲突域
D. 集线器支持 CSMA/CD技术
```

10、**在访问控制列表中地址和屏蔽码为 168.18.0.0 0.0.0.255所表示的 IP 地址范围是 ( B )**

```
A. 168.18.67.1~168.18.70.255
B. 168.18.0.1~168.18.0.255
C. 168.18.63.1~168.18.64.255
D. 168.18.64.255~168.18.67.255
```

11、**请问能够在路由器的下列哪个模式使用 debug 命令 ( B )**

```
A. 用户模式
B. 特权模式
C. 全局配置模式
D. 接口配置模式
```

12、**下面的说法正确的是 ( ABD )**

```
A. DNS 是用来解析 IP 地址和域名地址(互联网地址) 的
B. 默认网关是互连内网和外网的通道
C. 每个 Windows 用户都可以创建域,并使用域中的一 个帐号
D. 每个 Windows 用户都可以创建工作组,创建了一个 工作组,计算机重启后就会自动加入到该工作组
```

13、**数据分段(segment )是 OSI 七层模型中的哪一层的数据名称 ( D )**

```
A. 物理层
B. 数据链路层
C. 网络层
D. 传输层
```

14、**集线器目前一般应用最多的是在 ( A )**

```
A. 一个办公室内部实现互连的时候
B. 一个楼层各个办公室的互连
C. 一个多媒体教室中主机的互连
D. 一个建筑物内部两个地点间距离超过了 200米的 时候
```

15、**下列属于距离矢量路由协议容易引起的问题是 : ( C )** 

```
A. 水平分割
B. 路径中毒
C. 计数到无穷
D. 抑制时间
```

16、**如果对 C 类地址段 193.11.22.0/24进行可变长子网划分, 则下列地址能够成为其子网地址的有: BC**

```
A. 193.11.22.174
B. 193.11.22.192
C. 193.11.22.172
D. 193.11.22.122
```



17、**下列 VLSM 的理解正确的是 : ( ACD )**

```
A. VLSM 就是 Variable Length Subnet Mask的缩写形 式,即可变长子网掩码
B. 是指使用不同于整个字节的子网掩码划分方法, 使用按位划分网络位和主机位的子网划分方法
C. 如果仅仅使用非整字节的子网掩码位数,并不能 称之为 VLSM
D. 如果一个企业使用了一个 C 类的网络进行了整体的规划,并且划分了至少 6个不同大小的网络,则可以肯定这个企业内部的 IP 地址一定使用了 VLSM 进行规划
```

18、**IP 地址为:192.168.100.138, 子网掩码为:255.255.255.192所在的网络地址是什么,和 IP 地址 192.168.100.153是否 在同一个网段? ( A )**

```
A. 192.168.100.128,是
B. 192.168.100.0, 是
C. 192.168.100.138, 是
D. 192.168.100.128, 不是
```

19、**一个网段 150.25.0.0的子网掩码是 255.255.224.0,(BCD )是有效的主机地址**

```
A. 150.25.0.0
B. 150.25.16.255
C. 150.25.2.24
D. 150.15..30
```

20、**一个 B 类网络 , 有 5位掩码加入缺省掩码用来划分子网 , 每 个子网最多(D )台主机**

```
A. 510
B. 512
C. 1022
D. 2046
```

21、**BPDU 报文是通过(C )进行传送的**

```
A. IP 报文
B. TCP 报文
C. 以太网帧
D. UDP 报文
```

22、**下列对 IEEE802.1Q 标准的理解正确的是:( BD )**

```
A. 它在 MAC 层帧中插入了一个 16bit 的 VLAN 标识符
B. 它通过插入 3个 bit 位来定义 802.1p 优先级,对流入交换机的帧进行排序
C. 一旦在交换机中启动了 IEEE802.1Q VLAN标记功 能,则所有进出交换机的帧都被加了标记
D. IEEE802.1Q 解决了跨交换机的相同 VLAN 间的通信 问题
```

23、**要想拒绝主机 192.168.100.3/24访问服务器201.10.182.10/24的 WWW 服务,下面的访问控制列表配 置及其模式均正确的是:( D )**

```
A. Router#ip access-list 101 deny tcp 192.168.100.3 0.0.0.255 201.10.182.10 0.0.0.255 eq 80

B. Router(config)#ip access-list 10 deny tcp 192.168.100.30 0.0.0.255 201.10.182.10 0.0.0.255 eq 80

C. Router(config-serial1/0)#ip access-list 10 deny tcp 192.168.100.3 0.0.0.255 201.10.182.10 0.0.0.255 eq 80

D. Router(config)#ip access-list 101 deny tcp 192.168.100.3 0.0.0.255 201.10.182.10 0.0.0.255 eq 80
```

24、**下列对访问控制列表的描述不正确的是:( C )**

```
A. 访问控制列表能决定数据是否可以到达某处
B. 访问控制列表可以用来定义某些过滤器
C. 一旦定义了访问控制列表,则其所规范的某些 数据包就会严格被允许或拒绝
D. 访问控制列表可以应用于路由更新的过程当中
```

25、**以下情况可以使用访问控制列表准确描述的是:( C )**

```
A. 禁止有 CIH 病毒的文件到我的主机
B. 只允许系统管理员可以访问我的主机
C. 禁止所有使用 Telnet 的用户访问我的主机
D. 禁止使用 UNIX 系统的用户访问我的主机
```

26、**路由器中时刻维持着一张路由表, 这张路由表可以是静 态配置的,也可以是(C )产生的**

```
A. 生成树协议
B. 链路控制协议
C. 动态路由协议
D. 被承载网络层协议
```

27、**以太网交换机的每一个端口可以看做一个 ( A )**

```
A. 冲突域
B. 广播域
C. 管理域
D. 阻塞域
```

28、**下面的描述正确的是:( C )**

```
A. 集线器不能延伸网络的可操作的距离
B. 集线器不能在网络上发送变弱的信号
C. 集线器不能过滤网络流量
D. 集线器不能放大变弱的信号
```

29、**DNS 的作用是 ( C )**

```
A. 为客户机分配 IP 地址
B. 访问 HTTP 的应用程序
C. 将域名翻译为 IP 地址
D. 将 MAC 地址翻译为 IP 地址
```

30、**OSI 代表什么 ( D )**

```
A. 标准协会组织
B. Internet 标准组织
C. 开放标准协会
D. 开放系统互连
```



31、**当路由器接收的 IP 报文中的目标网络不在路由表中时, (没有缺省路由时)采取的策略是 ( A )**

```
A. 丢掉该报文
B. 将该报文以广播的形式发送到所有直连端口
C. 直接向支持广播的直连端口转发该报文
D. 向源路由器发出请求,减小其报文大小
```

32、**当路由器接收的 IP 报文的生存时间值等于 1时,采取的 策略是 ( A )**

```
A. 丢掉该报文
B. 转发该报文
C. 将该报文分段
D. 其它三项答案均不对
```



33、**一个 C 类网络需要划分 5个子网,每个子网至少包含 32个主机,请问,合适的子网掩码应为多少? ( D )**

```
A. 255.255.255.224
B. 255.255.255.192
C. 255.255.255.252
D. 没有合适的子网掩码
```

34、**规划一个 C 类网 , 需要将整个网络分为 9个子网 , 最大的子 网有 15台主机 , 下列哪个是合适的子网掩码 ? ( D )**

```
A. 255.255.224.0
B. 255.255.255.224
C. 255.255.255.240
D. 没有合适的子网掩码
```

35、**下列地址表示私有地址的是:( DE )**

```
A. 202.118.56.21
B. 1.2.3.4
C. 192.118.2.1
D. 172.16.33.78
E. 10.0.1.2
```

私有IP地址范围有：

```
A类：10.0.0.0-10.255.255.255
B类：172.16.0.0-172.31.255.255
C类：192.168.0.0-192.168.255.255
```



36、**某台路由器上配置了如下一条访问列表 ( C )**

access-list 4 permit 202.38.160.1 0.0.0.255

access-list 4 deny 202.38.0.0 0.0.255.255

**表示:**

```
A. 只禁止源地址为 202.38.0.0网段的所有访问
B. 只允许目的地址为 202.38.0.0网段的所有访问
C. 检查源 IP 地址,禁止 202.38.0.0大网段的主机, 但允许其中的 202.38.160.0小网段上的主机 
D. 检查目的 IP 地址,禁止 202.38.0.0大网段的主 机,但允许其中的 202.38.160.0小网段的主机 
```



37、**交换机如何转发收到的二层数据帧? ( A )**

```
A. 比较数据帧的 MAC 地址是否在 MAC 端口对应表中命 中,如果命中即向此端口转发
B. 比较数据帧的 MAC 地址是否在 MAC 端口对应表中命 中,如果没有命中即丢弃该帧
C. 交换机存储此二层数据帧,待目的设备发出查询, 再发向目的设备
D. 交换机察看二层帧对应的 IP 地址是否在端口地址 表中,如果在,则向所有端口转发
```

38、**下面关于生成树协议优缺点描述不正确的是 ( C )**

```
A. 生成树协议能够管理冗余链路
B. 生成树协议能够阻断冗余链路,防止环路的产生
C. 生成树协议能够防止网络临时失去连通性
D. 生成树协议能够使透明网桥工作在存在物理环路 的网络环境中
```

39、**在以太网中, 是根据 (D )地址来区分不同的设备的**

```
A. IP 地址
B. IPX 地址
C. LLC 地址
D. MAC 地址
```

40、**路由器启动时访问不同类型存储器的先后顺序是: ( A )**

```
A. ROM ->FLASH->NVRAM
B. FLASH ->ROM->NVRAM
C. ROM ->NVRAM->FLASH
D. FLASH ->NVRAM->ROM
```

41、**以下对于缺省路由描述正确的是:( BC )**

```
A. 缺省路由是优先被使用的路由
B. 缺省路由是最后一条被使用的路由
C. 缺省路由是一种特殊的静态路由
D. 缺省路由是一种特殊的动态路由 
```

42、**目前网络设备的 MAC 地址由(C )位二进制数字构 成, IP 地址由 ___位二进制数字构成**

```
A. 48, 16
B. 64, 32
C. 48, 32
D. 48, 48
```

43、**在缺省的情况下, 如果一台路由器在所有接口同时运行 了 RIP 和 OSPF 两种动态路由协议, 下列说法中正确的是 : ( B )**

```
A. 针对到达同一网络的路径,在路由表中只会显示 RIP 发现的那一条,因为 RIP 协议的优先级更高 
B. 针对到达同一网络的路径,在路由表中只会显示 OSPF 发现的那一条, 因为 OSPF 协议的优先级更高 
C. 针对到达同一网络的路径,在路由表中只会显示 RIP 发现的那一条, 因为 RIP 协议的花费值 (metric ) 更小
D. 针对到达同一网络的路径,在路由表中只会显示 OSPF 发现的那一条,因为 OSPF 协议的花费值 (metric )更小
```

44、**解决路由环问题的方法有 ( ABD )**

```
A. 水平分割
B. 触发更新
C. 路由器重启
D. 定义最大跳步数
```

45、**IP 报文头中固定长度部分为(B )字节**

```
A. 10
B. 20
C. 30
D. 40
```



46、**一个 32位的 IP 地址与它的掩码作异或计算,所得到的 32位二进制数是此 IP 地址的 ( B )**

```
A. A 类地址
B. 主机地址
C. 网络地址
D. 解析地址
```

47、**下面有关 HelloTime 时间间隔的配置,描述不正确的为 ( D )**

```
A. 较长的 HelloTime 可以降低生成树计算的消耗, 因为网桥可以不那么频繁的发送配置消息
B. 较短的 HelloTime 可以在丢包率较高的时候,增 强生成树的健壮性,避免因为丢包而误认为链路 故障
C. 过长的 HelloTime 会导致因为链路丢包而使网桥 认为链路故障,开始生成树重新计算
D. HelloTime 配置的越短越好
```

48、**下列对生成树协议的理解正确的是:( A )**

```
A. 生成树协议就是在交换网络中形成一个逻辑上的 树形结构,从而避免某些物理上的环路形成的交换网中的无用帧形成的拥塞
B. 生成树协议实际已经在交换网络中形成了一个物 理上的树形结构
C. 生成树协议状态一旦稳定,后续发送的数据包将 都沿着这个树形路径转发到目的地
D. 生成树协议只是为了消除环路的存在,并不能提 供冗余备份地功能
```

49、**如下访问控制列表的含义是:( C )**

access-list 11 deny icmp 10.1.10.10 0.0.255.255 any host-unreachable

```
A. 规则序列号是 100,禁止发送到 10.1.10.10主机 的所有主机不可达报文
B. 规则序列号是 100,禁止发送到 10.1.0.0/16网段 的所有主机不可达报文
C. 规则序列号是 100,禁止从 10.1.0.0/16网段发出 的所有主机不可达报文
D. 规则序列号是 100,禁止从 10.1.10.10主机发出 的所有主机不可达报文
```

50、**OSPF 协议具有如下特点:( BCD )**

```
A. 最多可支持近百台路由器
B. 如果网络的拓扑结构发生变化, OSPF 立即发送更 新报文
C. 算法本身保证了不会生成自环路由
D. 区域划分减少了路由更新时占用的网络带宽 
```

51、**RARP 的作用是 ( D )**

```
A. 将自己的 IP 地址转换为 MAC 地址
B. 将对方的 IP 地址转换为 MAC 地址
C. 将对方的 MAC 地址转换为 IP 地址
D. 知道自己的 MAC 地址,通过 RARP 协议得到自己的 IP 地址 
```

52、**在无盘工作站向服务器申请 IP 地址时, 使用的是 (B ) 协议**

```
A. ARP
B. RARP
C. BOOTP
D. ICMP
```

53、**当交换机检测到一个数据包携带的目的地址与源地址 属于同一个端口时,交换机会怎样处理? ( B )**

```
A. 把数据转发到网络上的其他端口
B. 不再把数据转发到其他端口
C. 在两个端口间传送数据
D. 在工作在不同协议的网络间传送数据
```

54、**以下关于以太网交换机的说法哪些是正确的 ? ( D )**

```
A. 以太网交换机是一种工作在网络层的设备
B. 以太网交换机最基本的工作原理就是 802.1D
C. 生成树协议解决了以太网交换机组建虚拟私有网 的需求
D. 使用以太网交换机可以隔离冲突域
```

55、**关于交换机交换方式的描述正确的是:( B )**

```
A. 碎片隔离式交换:交换机只检查进入交换机端口 的数据帧头部的目的 MAC 地址部分,即把数据转发 出去
B. 存储转发式交换:交换机要完整地接收一个数据 帧,并根据校验的结果以确定是否转发数据 
C. 直通式交换:交换机只转发长度大于 64字节的数 据帧,而隔离掉小于 64字节的数据
D. 这些说法全部正确
```

56、**下面哪些地址可以正确地表示 MAC 地址:( C )**

```
A. 0067.8GCD.98EF
B. 007D.7000.ES89
C. 0000.3922.6DDB
D. 0098.FFFF.0AS1
```

57、**(A )为两次握手协议,它通过在网络上以明文的 方式传递用户名及口令来对用户进行验证**

```
A. PAP
B. IPCP
C. CHAP
D. RADIUS
```

58、**如果需要配置一个交换机作为网络的根, 则应该配置下 面哪个参数 ( B )**

```
A. 桥的 HelloTime
B. 桥的优先级
C. 该桥所有端口配置为边缘端口
D. 将给该桥所有端口的路径花费配置为最小
```

59、**广播风暴是如何产生的 ( B )**

```
A. 大量 ARP 报文产生
B. 存在环路的情况下,如果端口收到一个广播报 文,则广播报文会增生从而产生广播风暴
C. 站点太多,产生的广播报文太多
D. 交换机坏了,将所有的报文都广播
```

60、**下面关于生成树协议的原理描述,哪个是错误的 ( D )**

```
A. 从网络中的所有网桥中,选出一个作为根网桥 (Root )
B. 计算本网桥到根网桥的最短路径
C. 对每个 LAN ,选出离根桥最近的那个网桥作为指定网桥,负责所在 LAN 上的数据转发
D. 网桥选择若干个根端口,该端口给出的路径是此网桥到根桥的最佳路径
```

61、 **能正确描述了数据封装的过程的是 ( D )**

```
A. 数据段 ->数据包 ->数据帧 ->数据流 ->数据
B. 数据流 ->数据段 ->数据包 ->数据帧 ->数据
C. 数据 ->数据包 ->数据段 ->数据帧 ->数据流
D. 数据 ->数据段 ->数据包 ->数据帧 ->数据流
```

62、**共享式以太网采用了(D )协议以支持总线型的结构**

```
A. ICMP
B. ARP
C. SPX
D. CSMA/CD
```

62、**采用 CSMA/CD技术的以太网上的两台主机同时发送数据,产生碰撞时,主机应该做何处理 ( A )**

```
A. 产生冲突的两台主机停止传输,在一个随机时间 后再重新发送
B. 产生冲突的两台主机发送重定向信息,各自寻找 一条空闲路径传输帧报文
C. 产生冲突的两台主机停止传输,同时启动计时器, 15秒后重传数据
D. 主机发送错误信息,继续传输数据
```

63、**集线器一般用于哪种网络拓扑中:( B )**

```
A. 总线形
B. 星形网络
C. 环形网络
D. 树形网络
```

64、**传输层协议端口号小于(C )的已保留与现有服务 一一对应,此数字以上的端口号可自由分配**

```
A. 100
B. 199
C. 1024
D. 2048
```

65、**IP 协议的特征是 ( B )**

```
A. 可靠 , 无连接
B. 不可靠 , 无连接
C. 可靠 , 面向连接
D. 不可靠 , 面向连接
```

66、**可能会使用以下哪些信息实现地址转换 ( ABC )**

```
A. IP 地址
B. TCP 端口号
C. UDP 端口号
D. 其他都不是
```

67、**D 类地址的缺省子网掩码有(D )位**

```
A. 8
B. 16
C. 24
D. 没有子网掩码
```

68、交换机如何知道将帧转发到哪个端口 ( A )